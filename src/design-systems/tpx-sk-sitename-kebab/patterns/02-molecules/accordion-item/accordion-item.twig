{#
/**
 * @file
 * accordion-item
 *
 * See accordion-item.wingsuit.yaml for documentation.
 */
#}
{# Settings #}
{% set id = uuid() %}

{# Classes #}
{% set button_classes = [
  'w-full rounded-2xl py-4 px-4 md:px-6',
  'relative flex items-start justify-between text-left',
  'border-2 border-black',
  'bg-blue-500 hocus:bg-primary',
  'text-base md:text-lg text-white',
  'transition',
] | sort | join(' ') | trim %}

{% set icon_classes = [
  'w-4 h-4 rotate-90 transition mt-1',
] | sort | join(' ') | trim %}

{# Template #}
<div class="m-accordion-item w-full mb-4" x-data="{ isOpen: false }">
  <h3>
    <button class="m-accordion-item__trigger {{ button_classes }}"
              type="button"
              :aria-expanded="isOpen"
              x-on:click="isOpen = ! isOpen">
      <span class="w-full pr-4">{{ label }}</span>{{ pattern('svg_icon', {icon: 'chevron', size: icon_classes }) }}
    </button>
  </h3>
  <div class="m-accordion-item__panel border-x-2 border-b-2 border-black rounded-b-2xl overflow-hidden bg-white" x-show="isOpen">
    <div class="m-accordion-item__content p-4 md:p-6 text-black text-base md:text-lg leading-6 md:leading-7">{{ text }}</div>
  </div>
</div>
